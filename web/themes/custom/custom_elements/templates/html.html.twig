{#
  /**
   * @file
   * Theme override for the basic structure of a single Drupal page.
   *
   * Variables:
   * - logged_in: A flag indicating if user is logged in.
   * - root_path: The root path of the current page (e.g., node, admin, user).
   * - node_type: The content type for the current node, if the page is a node.
   * - head_title: List of text elements that make up the head_title variable.
   *   May contain one or more of the following:
   *   - title: The title of the page.
   *   - name: The name of the site.
   *   - slogan: The slogan of the site.
   * - page_top: Initial rendered markup. This should be printed before 'page'.
   * - page: The rendered page markup.
   * - page_bottom: Closing rendered markup. This variable should be printed after
   *   'page'.
   * - db_offline: A flag indicating if the database is offline.
   * - placeholder_token: The token for generating head, css, js and js-bottom
   *   placeholders.
   *
   * @see template_preprocess_html()
   */
  #}
  <!DOCTYPE html>
  <html{{ html_attributes }}>
    <head>
      <head-placeholder token="{{ placeholder_token|raw }}">
      <title>{{ head_title|safe_join(' | ') }}</title>
      <meta name="description" content="Vue Custom Elements in Drupal">

      <link rel="icon" href="/themes/custom/custom_elements/dist/favicon.svg" type="image/svg+xml">
      <meta name="msapplication-TileColor" content="#00aba9">
      <meta name="theme-color" content="#ffffff">

      <css-placeholder token="{{ placeholder_token|raw }}">
      <js-placeholder token="{{ placeholder_token|raw }}">

      {# dev start #}
      {# <script type="module" src="https://localhost:3000/@vite/client"></script>
      <script type="module" src="https://localhost:3000/src/main.ts"></script> #}
      {# dev end #}

      {# prod start #}
      <link rel="preload" href="/themes/custom/custom_elements/dist/style.css" as="style">
      <script type="importmap">
      { "imports": {
        "vue": "https://cdn.jsdelivr.net/npm/vue@3.2.29/dist/vue.runtime.esm-browser.prod.js"
      } }
      </script>

      <script type="module" async="" crossorigin="" src="/themes/custom/custom_elements/dist/custom_elements.es.js"></script>
      {# prod end #}
    </head>
    <body{{ attributes }}>

      {{ page_top }}
      {{ page }}
      {{ page_bottom }}

      {# prod start #}
      <link rel='stylesheet' href='/themes/custom/custom_elements/dist/style.css'>
      {# prod end #}

      <js-bottom-placeholder token="{{ placeholder_token|raw }}">

      <script>
        function isInViewport(element) {
          const rect = element.getBoundingClientRect();
          return (
              rect.top >= 0 &&
              rect.left >= 0 &&
              rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
              rect.right <= (window.innerWidth || document.documentElement.clientWidth)
          );
         }
         document.querySelectorAll('img').forEach(img => {
           isInViewport(img) && img.removeAttribute('loading')
         })
      </script>
    </body>
  </html>
